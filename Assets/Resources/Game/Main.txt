
import "UnityEngine"

if not UnityEngine.GameObject or not  UnityEngine.UI then
	error("Click Make/All to generate lua wrap file")
end

require 'Game.Util.Class'

local axe = require 'Game.Prefabs.Axe'
local doom = require 'Game.Prefabs.Doom'
local director = Class()

function main()
	local player = GameObject.Find("PlayerPawn")
	local enemy = GameObject.Find("EnemyPawn")
	local camera = GameObject.Find("Main Camera")
	local cameraMove = camera:GetComponent(CameraMove)
	local test1 = axe.new(player)
	test1:init()
	
	local test2 = doom.new(enemy)
	test2:init()
	cameraMove:setTarget(test1.instance)
	return director.new(test1)
end

function director:ctor(player)
	self.test1 = player
end

function director:update()
	self.test1:update()
end

function director:fixedUpdate()
	self.test1:fixedUpdate()
end